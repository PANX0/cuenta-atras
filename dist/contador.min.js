/*! contador - v0.1.0 - 2014-05-26
* https://github.com/erickrdch/contador
* Copyright (c) 2014 Erick Ruiz de Chavez; Licensed MIT */
var module,countdown=function(a){"use strict";function b(a,b){var c=a.getTime();return a.setUTCMonth(a.getUTCMonth()+b),Math.round((a.getTime()-c)/H)}function c(a){var b=a.getTime(),c=new Date(b);return c.setUTCMonth(a.getUTCMonth()+1),Math.round((c.getTime()-b)/H)}function d(a){var b=a.getTime(),c=new Date(b);return c.setUTCFullYear(a.getUTCFullYear()+1),Math.round((c.getTime()-b)/H)}function e(a,b){return a+" "+(1===a?o[b]:p[b])}function f(){}function g(a,b){switch(b){case"seconds":if(a.seconds!==E||isNaN(a.minutes))return;a.minutes++,a.seconds=0;case"minutes":if(a.minutes!==F||isNaN(a.hours))return;a.hours++,a.minutes=0;case"hours":if(a.hours!==G||isNaN(a.days))return;a.days++,a.hours=0;case"days":if(a.days!==I||isNaN(a.weeks))return;a.weeks++,a.days=0;case"weeks":if(a.weeks!==c(a.refMonth)/I||isNaN(a.months))return;a.months++,a.weeks=0;case"months":if(a.months!==J||isNaN(a.years))return;a.years++,a.months=0;case"years":if(a.years!==K||isNaN(a.decades))return;a.decades++,a.years=0;case"decades":if(a.decades!==L||isNaN(a.centuries))return;a.centuries++,a.decades=0;case"centuries":if(a.centuries!==M||isNaN(a.millennia))return;a.millennia++,a.centuries=0}}function h(a,b,c,d,e,f){return a[c]>=0&&(b+=a[c],delete a[c]),b/=e,1>=b+1?0:a[d]>=0?(a[d]=+(a[d]+b).toFixed(f),g(a,d),0):b}function i(a,b){var e=h(a,0,"milliseconds","seconds",D,b);if(e&&(e=h(a,e,"seconds","minutes",E,b),e&&(e=h(a,e,"minutes","hours",F,b),e&&(e=h(a,e,"hours","days",G,b),e&&(e=h(a,e,"days","weeks",I,b),e&&(e=h(a,e,"weeks","months",c(a.refMonth)/I,b),e&&(e=h(a,e,"months","years",d(a.refMonth)/c(a.refMonth),b),e&&(e=h(a,e,"years","decades",K,b),e&&(e=h(a,e,"decades","centuries",L,b),e&&(e=h(a,e,"centuries","millennia",M,b)))))))))))throw new Error("Fractional unit overflow")}function j(a){var c;for(a.milliseconds<0?(c=N(-a.milliseconds/D),a.seconds-=c,a.milliseconds+=c*D):a.milliseconds>=D&&(a.seconds+=O(a.milliseconds/D),a.milliseconds%=D),a.seconds<0?(c=N(-a.seconds/E),a.minutes-=c,a.seconds+=c*E):a.seconds>=E&&(a.minutes+=O(a.seconds/E),a.seconds%=E),a.minutes<0?(c=N(-a.minutes/F),a.hours-=c,a.minutes+=c*F):a.minutes>=F&&(a.hours+=O(a.minutes/F),a.minutes%=F),a.hours<0?(c=N(-a.hours/G),a.days-=c,a.hours+=c*G):a.hours>=G&&(a.days+=O(a.hours/G),a.hours%=G);a.days<0;)a.months--,a.days+=b(a.refMonth,1);a.days>=I&&(a.weeks+=O(a.days/I),a.days%=I),a.months<0?(c=N(-a.months/J),a.years-=c,a.months+=c*J):a.months>=J&&(a.years+=O(a.months/J),a.months%=J),a.years>=K&&(a.decades+=O(a.years/K),a.years%=K,a.decades>=L&&(a.centuries+=O(a.decades/L),a.decades%=L,a.centuries>=M&&(a.millennia+=O(a.centuries/M),a.centuries%=M)))}function k(a,c,d,e){var f=0;!(c&B)||f>=d?(a.centuries+=a.millennia*M,delete a.millennia):a.millennia&&f++,!(c&A)||f>=d?(a.decades+=a.centuries*L,delete a.centuries):a.centuries&&f++,!(c&z)||f>=d?(a.years+=a.decades*K,delete a.decades):a.decades&&f++,!(c&y)||f>=d?(a.months+=a.years*J,delete a.years):a.years&&f++,!(c&x)||f>=d?(a.months&&(a.days+=b(a.refMonth,a.months)),delete a.months,a.days>=I&&(a.weeks+=O(a.days/I),a.days%=I)):a.months&&f++,!(c&w)||f>=d?(a.days+=a.weeks*I,delete a.weeks):a.weeks&&f++,!(c&v)||f>=d?(a.hours+=a.days*G,delete a.days):a.days&&f++,!(c&u)||f>=d?(a.minutes+=a.hours*F,delete a.hours):a.hours&&f++,!(c&t)||f>=d?(a.seconds+=a.minutes*E,delete a.minutes):a.minutes&&f++,!(c&s)||f>=d?(a.milliseconds+=a.seconds*D,delete a.seconds):a.seconds&&f++,(!(c&r)||f>=d)&&i(a,e)}function l(a,b,c,d,e,f){if(a.start=b,a.end=c,a.units=d,a.value=c.getTime()-b.getTime(),a.value<0){var g=c;c=b,b=g}a.refMonth=new Date(b.getFullYear(),b.getMonth(),15);try{a.millennia=0,a.centuries=0,a.decades=0,a.years=c.getUTCFullYear()-b.getUTCFullYear(),a.months=c.getUTCMonth()-b.getUTCMonth(),a.weeks=0,a.days=c.getUTCDate()-b.getUTCDate(),a.hours=c.getUTCHours()-b.getUTCHours(),a.minutes=c.getUTCMinutes()-b.getUTCMinutes(),a.seconds=c.getUTCSeconds()-b.getUTCSeconds(),a.milliseconds=c.getUTCMilliseconds()-b.getUTCMilliseconds(),j(a),k(a,d,e,f)}finally{delete a.refMonth}return a}function m(a){return a&r?D/30:a&s?D:a&t?D*E:a&u?D*E*F:a&v?D*E*F*G:D*E*F*G*I}function n(a,b,c,d,e){var g;if(c=+c||C,d=d>0?d:0/0,e=e>0?20>e?Math.round(e):20:0,"function"==typeof a?(g=a,a=null):a instanceof Date||(a=null!==a&&isFinite(a)?new Date(a):null),"function"==typeof b?(g=b,b=null):b instanceof Date||(b=null!==b&&isFinite(b)?new Date(b):null),!a&&!b)return new f;if(!g)return l(new f,a||new Date,b||new Date,c,d,e);var h,i=m(c),j=function(){g(l(new f,a||new Date,b||new Date,c,d,e),h)};return j(),h=setInterval(j,i)}var o,p,q,r=1,s=2,t=4,u=8,v=16,w=32,x=64,y=128,z=256,A=512,B=1024,C=y|x|v|u|t|s,D=1e3,E=60,F=60,G=24,H=G*F*E*D,I=7,J=12,K=10,L=10,M=10,N=Math.ceil,O=Math.floor,P=0,Q=1,R=2,S=3,T=4,U=5,V=6,W=7,X=8,Y=9,Z=10;f.prototype.toString=function(){var a=q(this),b=a.length;return b?(b>1&&(a[b-1]="and "+a[b-1]),a.join(", ")):""},f.prototype.toHTML=function(a){a=a||"span";var b=q(this),c=b.length;if(!c)return"";for(var d=0;c>d;d++)b[d]="<"+a+">"+b[d]+"</"+a+">";return--c&&(b[c]="and "+b[c]),b.join(", ")},q=function(a){var b=[],c=a.millennia;return c&&b.push(e(c,Z)),c=a.centuries,c&&b.push(e(c,Y)),c=a.decades,c&&b.push(e(c,X)),c=a.years,c&&b.push(e(c,W)),c=a.months,c&&b.push(e(c,V)),c=a.weeks,c&&b.push(e(c,U)),c=a.days,c&&b.push(e(c,T)),c=a.hours,c&&b.push(e(c,S)),c=a.minutes,c&&b.push(e(c,R)),c=a.seconds,c&&b.push(e(c,Q)),c=a.milliseconds,c&&b.push(e(c,P)),b},n.MILLISECONDS=r,n.SECONDS=s,n.MINUTES=t,n.HOURS=u,n.DAYS=v,n.WEEKS=w,n.MONTHS=x,n.YEARS=y,n.DECADES=z,n.CENTURIES=A,n.MILLENNIA=B,n.DEFAULTS=C,n.ALL=B|A|z|y|x|w|v|u|t|s|r;var $=(n.setLabels=function(a,b){a=a||[],a.split&&(a=a.split("|")),b=b||[],b.split&&(b=b.split("|"));for(var c=P;Z>=c;c++)o[c]=a[c]||o[c],p[c]=b[c]||p[c]},n.resetLabels=function(){o="millisecond|second|minute|hour|day|week|month|year|decade|century|millennium".split("|"),p="milliseconds|seconds|minutes|hours|days|weeks|months|years|decades|centuries|millennia".split("|")});return $(),a&&a.exports?a.exports=n:"function"==typeof window.define&&window.define.amd&&window.define("countdown",[],function(){return n}),n}(module);!function(a){"use strict";countdown.setLabels("milisegundo|segundo|minuto|hora|día|semana|mes|año|decada|siglo|milenio","milisegundos|segundos|minutos|horas|días|semanas|meses|años|decadas|siglos|milenios");var b=function(a,b,c,d,e,f){this.fin=new Date,this.fin.setUTCFullYear(a),this.fin.setUTCMonth(b-1),this.fin.setUTCDate(c),this.fin.setUTCHours(d-f),this.fin.setUTCMinutes(e),this.selector=null,this.tiempo=null,this.multiplo=null};b.prototype.en=function(a){return this.selector=a,this},b.prototype.unaVez=function(){var a="",b=new Date,c=countdown(b,this.fin);if(!this.selector)throw new Error("No se donde mostrar el contador");b<this.fin&&(a=c.toString().replace("and ",""));var d=document.querySelector(this.selector);return d.innerHTML=a,this},b.prototype.yActualizarCada=function(a){return this.tiempo=a,this},b.prototype.segundo=b.prototype.segundos=function(){return this.multiplo=1e3,this.mostrar(),this},b.prototype.milisegundo=b.prototype.milisegundos=function(){return this.multiplo=1,this.mostrar(),this},b.prototype.mostrar=function(){var a=this;return this.tiempo&&this.multiplo&&this.selector&&(a.unaVez.call(a),setTimeout(function(){a.mostrar()},this.tiempo*this.multiplo)),this},a.crearContador=function(a,c,d,e,f,g){return new b(a,c,d,e,f,g)}}("object"==typeof exports&&exports||this);